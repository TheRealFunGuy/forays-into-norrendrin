
ignoring the fact that I don't have a set with all the graphics I need just yet...

what would I need for this?

first, I know I need some sort of thing to keep track of the current screen position, horizontally only. This will be used when the player moves, in lookmode, and other stuff like that.


then, i need texcoords for every graphic...



so, the first thing to do is to prepare a bitmap with a few images in it. probably just wall, floor, dude.


when I get graphical mode working, i'll need to change the mouse handler to check for that.

NEXT: will I still support font changes for non-graphical mode? sounds good. i suppose graphical mode might be restricted to one font, so switching to graphics would resize the screen or whatever.




note: i added parabola and schism to the project. didn't add the build script or opentk.dll.





done:
command line switch to start console version as GL.
I used the wrong form of current_level when spawning monsters in sliding wall traps. as a result, corpsetower behemoths can appear very early.
frostling freeze needs LOS/cansee check.
every instance of AI_Step(safe.Random()) in entrancer AI can crash the game with a nullref. check for safe.Count > 0.
haha, skulking killers can throw bolas through walls.
entrancer AI could use some fixes - it's still willing to teleport its thrall from a spot that blocks your shot to a spot that doesn't.
i fixed that infinite loop with a shrine and interesting_location SOMEWHERE - I think i fixed it in the GL version, so make sure this gets changed everywhere.
shrines probably shouldn't be within 2 tiles of other shrines unless paired - it's probably confusing
if pendant is now chance-based, make the description match.
re-enable attempted terminal fix
i broke telekinesis - can't throw barrels. (also fixed crash bug with extended targeting lines not being used)
orbs of shielding reveal actors present.
if chardump has no extension, add .txt?
offer "known item types" on death?
don't do the "trying consumables" tip if the player knew several item types but had some unknown ones in the pack - they might have been using them!
make web clusters bigger
some ranged attacks shouldn't leave the attacker off-balance, like the alasi scout. (could become an ability and not an attack, but it's cool both ways)
when a corpse(or anything else) is knocked through a door, it still prints "the foo opens the door"
light trap (and probably others) use the_name instead of TheName(true)
maybe the shadow shouldn't be able to damage your armor for some reason? it can be nasty. (perhaps the attack needs at least 2 dice)
dim vision now almost blinds you in darkness (hmmmm)
monsters should sidestep traps when not chasing you! if you see them do it (because you're stealthed) then you'll know where the trap is.
	-not actually walking around it, but "the foo avoids a %trap%."
monsters will dance around rubble instead of going through it. (big piles of rubble, that is)
additional attacks to make combo attacks more obvious. (alasi soldier is fine though)
phase spiders respond to sounds by pathing there. i thought i had fixed that.
print a message when a weak point activates! just like for armor blocking hits.
new symbol for blast fungus?
check melee damage of oozes - they shouldn't be too threatening just with melee damage.
	-changed back to 3
enemy arrows previously couldn't score critical hits to pin.
immunity to fire damage at 5 boiling blood stacks.
problem with corner climb + doors: the doors must be at a diagonal, otherwise it'll activate at the end of a corridor with an open door in front of you.
ghosts sometimes choose to step out of range of tombstones and vanish. (might not be fixed)
fix message "you can't read scrolls while silenced" where auras are concerned.
burning monsters currently get a message in calculateDimming(), and dimming can sometimes last for the entire level
you still 'walk straight into' shadow-cloaked monsters after seeing them.
collapse should break items like the rubble trap does.
scorch isn't actually a damaging spell. stone spikes is. collapse, too.
stalagmite hit doesn't work on enough floor types yet.
amnesiac monsters should lose AMNESIA_STUN upon taking damage
add '.' wait to the command list
should !oSilence give you an aura? (so the guy you're fighting doesn't make noise either)
	-do this, and then tweak caster AI so they flee while silenced & at full health.
"the ghost notices you" message spam. it's wandering around and I'm far away out of LOS. same as the warmage bug, i think - distance doesn't seem to matter, though. the message stops when you enter LOS.
you can be oiled and stoneformed at the same time, which leads to constant "you catch fire!" messages if you're near fire.
-brutish strength knockback should happen instead of drive back, right?
-make grabs interact with frozen - frozen probably breaks & prevents grabs.
-"The grenade explodes! A noxious worm bursts through the wall! [more" <--the cursor was of course on the next row down, and the 'e' remained on the screen.
-make sure burning enemies *advance* out of fire when possible, toward the player.
(improved AI for handling hazardous terrain)
-and, of course, AI could check the danger value of the tile it's about to walk into...
give mindless to phase spider, or make it teleport away here, too? (made phase spider avoid hazards by teleporting, too)
equipment screen colors "[a]" entirely in cyan. consider changing.
bug: "You is no longer pinned." ...haha. Glad I found that one.
bug: you become magical_drowsiness
-some walls could become dark gray now that i use blue for out of sight, eh? (fortress changed to dark gray)
-allow game to be started with no options.txt and highscore.txt
crypts + naturally generated tombstones can put them too close together
allow looking around the map after death?
"you fade away in the darkness" should also appear when you put your torch away while shadow cloaked.
-poppies shouldn't be hazardous if you're already drowsy or can't escape them anyway.
-low chance to find a chest in a sliding wall trap?
-flush input after more animations, especially passage. -- and bola!
-disable mouse pathing while [more] is displayed - otherwise, you zoom off across the map after it clears.
-monsters seem to EITHER continue down corridors OR continue down paths after seeing the player (if the player ducks out of LOS). THEN they go to the target_location. (I added path.Clear())
-brambles don't cost enough yet, or else autoexplore isn't considering them:
-perhaps a bigger penalty than -1 for each fork in the road when corridor-seeking?
kobold(poison ticks for Q5),
ahh, autoexplore pathing IS broken - it's trying to reach the nearest ones even if it goes over traps. (should be fixed - it was considering traps as valid if they were next to unexplored space)
-consider flight for exploration pathing
no IMMOBILIZATION of flying enemies with arrows, i think - no, keep this, but make them trigger traps when they get pinned. \o/
plus, roots should end flying, but that's probably not needed because it'll outlast it. - no need, but make this trigger traps too.
-hmm - double clicking [w]alk makes you (usually) walk to the left. Might need to disable that if you're outside the map.
-make double clicking [w] and [X] cancel - send an Escape if you're outside the map.
-hacky [s]hoot button added to targeting mode.
consider reminder for "you can't move!" (x520)
change freeze trap message to avoid double "encased in ice"
reminder if you've missed a shrine when taking stairs? -needs a good message
another lighting bug: I found a 2x3 (buggy) darkened section against a wall. might have been caused by a cultist lighting itself (and updating its radius) despite being slime-covered or something. - i don't know if this is fixed, but I did finally add a slime check for cultists
option for confirmation before resting
-I need to make a method to unify all the tile costs, and consider player-only stuff too.
maybe move lashers or oozes to depth 8, and move pixies to depth 9 (and have them appear in groups) - also changed their crit effect.
oh wow, lashers retaliate for every point of fire damage. hmmmm.
...i just realized that you can read scrolls while blind
drop how many? barely works with mouse.
item bug: It's possible to have a (stack of) scroll(s) in the inventory that "you don't know what type this is". check all methods of item acquisition.
the "you feel less vulnerable" message still appears if it has triggered.
	-should be easy to clear those events
bug: some trinkets don't get buttons - all of them after the first?
there's another bug with the character screen buttons. When I had only a few feats, it was fine, but after it wrapped to the next line the button extended across the entire line.
hmm...double clicking Descend will confirm "really descend without resting?".
whoa, utility.cs is missing from the project.
"The skeleton looks less disoriented. " - no skeleton in sight.

done^







-write cave corridor & twisty cave article for RB. also possibly dijkstra maps part 2 with screenshots.

bugs: 

here's that really weird one where I got killed the turn I used a rune of time:
"Time stops for a moment. (grayed out)
You bring out your torch. The troll seer regenerates. The troll
seer casts glacial blast. The glacial blast hits you. You [more]
die. [more]"

visual bug for lightning bolt: when targeting past the target to hit it at an angle (when it's in a doorway, say), the bolt seems to go through walls.


