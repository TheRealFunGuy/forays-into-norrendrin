
update help: add headers to overview help - 'Regaining Health, Attacking Monsters, Exploring the Dungeon...'

TEST LOOKMODE AND NEW TARGETING ON LINUX BEFORE RELEASE


new items:
quickfire orb
invisibility or shadow cloak item
smoke bomb
  creates smoke, which is a tile feature that blocks LOS(hmm) and gives 50% miss
  chance.
potion of brutish strength
  no items, spells, or certain feats, but lots of damage and the ability to smash
  doors, statues, and other features?
rune of time (gives a free turn)
  (Q.turn += 200;)
explosive fungus orb-type item? or orcish grenades?

new monsters:
undead fast animal - summoned by necro
mechanical knight
  would be invulnerable until it misses. at certain hp values, its arms or legs
  fall off. "~'s arms fall off! ~ kicks you." with no legs, he does nothing.
  probably takes normal damage from crits, too.
statues - they're normal statues when in the light, but animate when in darkness.
shadow cloaked melee guy - sidesteps when he attacks.
  invisible in darkness, of course
luminous avenger
  fast, permanent holy shield, gives off light. when injured enough, darkens the
  level to fully heal.
crusading knight
  strong attack, heavy armor, & torch. if attacked from hiding, he lights the
  level.
mimic (item+event at first)
  if player is adjacent to item, check player's stealth. if noticed, attack. if
  player picks up the item, jump out of pack and attack.
antimagic melee guy
  not antimagic, but spell disruption. prevents spells from being cast within
  a certain distance, and also prevents spells that target it directly.
antimagic pixie
  fast, flying. not sure about attack.
(teleports player)
(stronger bow user)
  big ranged damage, but not fragile like most ranged guys
slugman
  appears in groups. leaves slime trails on the ground. usually moves slowly, but
  moves quickly when on a slime trail. ranged attack, maybe?
(magic reserve drainer?)
(on-death triggers? light, knockback?)
entrancer
  always wanders. when it encounters a non-group monster (maybe melee only), it
  enslaves it, adding it to its group, and will make it stronger in combat.
(darkness dweller repelled/dazed/blinded by light for a few turns)
mud monster
  makes walls attack or grab at you, encouraging you to fight it in the open
remake: poltergeist. item-thrower. can yank items from the player's pack.


new dungeon features:
doors -_-
normal statues
trapped chests or doors?
fungus (fuse fungus? bomb fungus?) that explodes a few turns after being lit up
doors that open when lit (stone slab type)
torches
fire vents/firespouts that occasionally burn things on top of them, and give off
  more light than firepits.
separate alarm from light trap
  alarms tied to items or doors?
add darkness trap
periodic stun trap that affects everything in its LOS
poison trap. darts or gas?
ice trap?
sleep trap
bombable walls to hide some hidden rooms.
more open areas. maybe even LoL-style brush?
  open areas make carrying a torch more dangerous, and make lightning bolt better
beamos-inspired mob/trap/feature. probably mounted in the wall. might hit an
  entire direction instead of just a line.
round rooms
any other active dungeon elements or 'moving parts'


other:
magical sleep status - lasts for a good while. any time you don't spend your turn
  moving, you might fall asleep, which lasts for a few turns or until you take
  damage.
sunlight (Shine now makes your torch give off sunlight) can destroy light-
  sensitive enemies outright
an event (possibly triggered by shrines or chests) where you defend an area for a
  short while, for some purpose.


#

considering a 'slimed' status that would put out fires but leave you clumsy or something. fire melts ice, ice freezes slime, slime douses fire. slime traps, slime enemies, slime orbs that you can employ to extinguish fires on yourself.
	-being on fire makes you immune to freezing, being frozen makes you immune to slime, and being slimed makes you immune to burning? sounds decent.
	-then i would add slime orb and orb of burning at the same time.


             
             Do what now?
                           #####
HP: 69                   ###...####       ############
Depth: 1                 #........#       #..........######
---                   ####........#       #...............#
Mace                  #...........#     ###..........####.#
---                   #.##........#      .................#
Leather               #.##........#       #..........##.#.#
---                   #.##........#       #..........##.#.#
             ##########.####.#.####   #########.##.####.#.#       #############
[paralyzed-] #........#.####.#.#      #....#  #...........#########...........#
[-stunned--] #....0............#      #....####.##.####.####......#.###.#.### #
[-burning--] #........#.####.######## #...................##..................#
[--afraid--] #........#.............# #.0..####.##.####.#.##......#.###.#.#####
[--slowed--] #^.........####.######.# #.........#  #  #.#......>........#.#
[--shine---] #........###  #.#    #.# #....######     #.####......#####.#.#
             ##########    #.#    #.# ###.##          #.#  ##.##.##  ##.#.####
                           #.#    #.#   #.#        ####.#  ##.##.#####.......#
                           #.######.#####.######   .....####.........#.......#
11                         #...................       #.@.......0..0.........#
12                         ####.###.##.##.#.####      ######.........#.......#
13                            #.............#              ###################
14                            ###############
             Depth: 1
---
(removed XP, level, and AC)

it's a stretch, but there might be room for EIGHT statuses at once. that ain't bad; let me see if I can reasonably get more than 8 at once...

conviction
boiling blood
regen
resistance (+immunity?)
detecting
counter for fail rate, sure.

[regenerate]
[-poisoned-]
[--frozen--]
 or
[-immobile-]
[--dimmed--]
[dim-light-]
[conviction]
[invincible]
[bloodboil-]


#

make sure to always consider the old stuff when adding new stuff - it can use updates too, or receive some of these new ideas.

make sure there's a light-sensitive feature early on.

decide which changes should go into 0.7.0!
probably split all these into 0.7.0 and 0.8.0.
then 0.9.0 can have special levels, and 1.0.0 will be the final iteration.
	-well, so far i have:
		new map gen
		new monsters
		new items
		new terrain
		other 'light' features, including tweak to Shine
		other balance changes
		sidebar counters and stuff. for increasing bars like Conviction, or brogue-style bars for other durations.
		and help check

update your screenshots and videos!



things to do between 0.5 and 1.0:

at least 1 special level per game, with an appropriate number of different special levels
	-cave of bats

animations should support the concept of a 'viewer' - cells outside viewer's FOV don't animate.

generate trolls with rocks they can throw, in a lair, and have them stay in that lair.

consider making ranged attacks...not attacks at all, but generated straight from the AI routine

replace old spell?
	-should be easier with shrines!
		-maybe if you use a magic shrine, it gets replaced
		 with a 'spell replacement shrine' (purple)

shadow should reduce the light radius of zealots, too

Select() needs a rewrite, and to be moved out of Actor.


0.7.0 should have: (focus on gameplay)
many effects should use the new 'RefreshDuration', including shadow's touch attack, etc etc.
"the arrow hits the goblin" x2   should become "the arrow hits something" x2 "something dies"
"You are burned. You are unburnt." <--being attacked by burning enemy while Tough
think about scaling Spirit's duration reduction to more than 50%
what about a 'default ranged attack' in addition to the 'default melee attack' spell?
fire drake should come with a quickfire event
is the minimum number of enemies really 4? eww, too low.
	-it's actually 5.
	-spread them out more!
a stealth enemy that can teleport from shadows on ONE side of you to shadows on the OTHER side, and re-stealth while doing so.
	-limited somehow. does he need to escape first?
a group enemy that slightly punishes fighting in corridors?
things other than the player should be able to call MakeNoise
generate rats at start?
extend the "monster notices" sounds so that you can hear them even if you can't see them.
	-this would make a good candidate for generalization: printing a message if the player can see an object OR if that object is within a certain distance. perhaps a distance that implies that the message is a sound, not a visual.
kills list
make shadows appear earlier? make swordsmen appear earlier?



bugs: 
minor: passage shows a WHITE floor under the player, not the correct color.
using lunge on an aware goblin archer a knight's move away. the archer appears normal, when it should have a green background from the targeting.
	-i believe this is another form of the other background color bug.
	-linux or win?
	-does not happen every time. this one might be a pain to track down.
again on linux - bits of the previous map still appear. no idea why. does not happen often. (once so far!)
	-not reproduced yet
there still might be a bug related to being on fire and catching fire at the same time.
	-not reproduced
"The skeleton looks less disoriented. " - no skeleton in sight.
	-reviewed code. should never happen, but it did.
		-theory: it died and the message was still printed. rework removal from msg_obj list.
			-happened again with "the skeleton looks more stable". debug the trap messages, then do the msg_obj fix.
		-above theory is probably wrong: happened with a
		 goblin that was alive
stalagmites, because they are solid, leave UNLIT tiles next to fire pits. simple enough to check as a one-off hack.
lashers can still move somehow, probably by pathing.
	-not reproduced
"You fire an arrow. The arrow hits the cultist. The cultist [more]
dies."
	-note that the [more] takes up exactly as much space as "dies. " - what gives?



--generate the list of monsters first, THEN generate the level. then verify that i.e. a troll has a proper lair.
	-now i'm not sure i want trolls to be confined



	-something for cultists to summon - this should be on a special level though, and it would be badass.
		-summoning circles and all


room mimic
	-how is this going to work? perhaps it's usually generated at the end of a longish corridor, so blinking out is harder to do.
	-it shouldn't ACTUALLY prevent teleportation escapes, though. a quick Passage out is probably just the thing.
	-perhaps some kind of interactive 'don't stand here' thing.
	-so, the event checks every several turns to see if the player is within its area(which is the entire room)
	-if this happens, it either sets some state, or spawns another event type to check again a few turns later(remember, there's a chest in here)
		-how about a good chance of an extra item or two, as well?
			-EITHER 1d3 items OR a chest?
		-wait, why not trigger on the chest, also? both will work great.
	-when the mimic has been disturbed, a message is printed, the membrane/door starts to close, and acid starts to fall.
		-and some of the walls and floor turn to red?
	-i think the average distance from chest to door will be like 3, so probably 2d2 turns.
	-if the player is on the door when it closes, he takes some damage and becomes immobilized. (and can then escape)
	-otherwise, the door becomes a membrane (would be great if certain terrain had ATTACKABLE flag, yeah?) with an okay amount of HP.
	-all the while, every 1d3 turns acid drops onto the floor from the ceiling - this is delayed by 1 turn, so it doesn't hit the player directly.
		-lasts for 1d3+3 turns or so
	-standing in the acid deals damage, of course.
	-ALSO, to prevent the player from simply dancing around until he gets out...the room should probably either shrink, or be subject to an area attack.
		-a crushing attack is way easier. lowish damage, i suppose.
	-annnnd, when the player escapes, the membrane soon returns to its door form and the walls and floors to their normal colors.

	-first, i need terrain for acid and membrane, no problem.
	-and an event for 'spawn acid here', no prob
	-now, what state do i need to track? the event already tracks the area, no problem.
		-'player inside room' - the first trigger. unneeded if i trigger only on the chest.
		-state for 'disturbed', of course
		-'number of turns until membrane closes'
		-state for membrane: closing, crushing, closed.
		-'number of turns until next acid attack'
		-'number of turns until next crushing attack'
		-'membrane has been destroyed' - could also just mean it's dead, and remove the event.

idea for the cultist's special level: a receptacle fills as cultists die to fire damage. you don't want it to fill up.
idea for pangolin special level: giant pangolins tear open giant termite mounds. the pangolins use their armor to avoid harm as the termites swarm you.
battle of the titans special level: a brawl between titans that don't care about you. avoid being stepped on or destroyed by AOEs.

voltaic rapture was too badass
-this spell wasn't voltaic rapture, but was lightning-based: each time you're hit in melee you release a radius 2 burst of electricity

secrets
silence
mystery
concealment

onslaught
battle
conflict
assault

protection
security
shielding
warding

heart
energy
will
essence

wizardry
sorcery
conjuring
evocation

